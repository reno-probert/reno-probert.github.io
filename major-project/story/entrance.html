<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Dungeon Room</title>
    <link rel="stylesheet" href="../styles.css">
    <script>
      // Class helper so pages know the player's class
      function getClass() {
        const params = new URLSearchParams(window.location.search);
        let cls = params.get("class");
        if (!cls) cls = localStorage.getItem("playerClass");
        return cls;
      }

      // Optional: show class-exclusive options
      function setupChoices() {
        const playerClass = getClass();

        // Example: only Druids can talk to animals
        if (playerClass !== "druid") {
          document.getElementById("druid-only").style.display = "none";
        }

        // Example: only Barbarians can smash walls
        if (playerClass !== "barbarian") {
          document.getElementById("barbarian-only").style.display = "none";
        }

        // Example: only Bards can charm enemies
        if (playerClass !== "bard") {
          document.getElementById("bard-only").style.display = "none";
        }
      }

      window.onload = setupChoices;
    </script>
</head>

<body>
  <div id="screen">

    <h1>Dungeon Entrance</h1>

    <div id="story">
      As you enter the doors of the dungeon you come to a long corridor lit by a few, flickering torches. The hallway turns sharply to the right but on the left you see a locked door covered in strange runes, what do you do?
    </div>

    <div id="choices">

      <!-- Normal choice available to all classes -->
      <button onclick="location.href='hallway.html?class=' + getClass()">Continue down the hallway, leaving the door behind</button>
      <button onclick="location.href='hallway.html?class=' + getClass()">Flee in terror</button>

      <!-- Class-exclusive buttons -->
      <button id="barbarian-only" onclick="location.href='inside-room.html?class=' + getClass()">Smash the door (Barbarian)</button>

      <button id="rogue-only" onclick="location.href='inside-room.html?class=' + getClass()">Pick the lock (Rogue)</button>

    </div>

  </div>
</body>
</html>